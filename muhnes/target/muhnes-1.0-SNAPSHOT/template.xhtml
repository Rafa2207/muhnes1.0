<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>

        <title><ui:insert name="title">MUHNES</ui:insert></title>
        <h:outputStylesheet library="css" name="jsfcrud.css"/>
        <h:outputScript library="js" name="jsfcrud.js"/>
        <h:outputScript library="js" name="locale_es.js"/>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true|false" />
        <link href="images/planta.png" rel="shortcut icon" type="image/png"/>
        <link href="../images/planta.png" rel="shortcut icon" type="image/png"/>
        <link href="../../images/planta.png" rel="shortcut icon" type="image/png"/>
    </h:head>

    <h:body>

        <p:growl id="growl" life="3000" /> <!-- para que aparezcan las notificaciones 3000=3 segundos -->
        <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
            <h:form>
                <p:commandButton value="Sí" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </h:form>
        </p:confirmDialog>



        <p:layout fullPage="true">
            <p:layoutUnit position="north" size="50" style="border: 0" gutter="0" >
                <!-- Área de notificaciones-->
                <p:notificationBar  position="bottom" effect="slide" widgetVar="bar">
                    <h:outputText value="Holaaaaaaa!!!" style="text-align: center; color: green; font-size:24px;"  />
                    <br></br>
                    <h:outputText value="Holaaaaaaa!!!" style="text-align: center; color: green; font-size:24px;"  />
                    <br></br>

                </p:notificationBar>
                <!-- fin de notificaciones -->
                <h:form>

                    <p:themeSwitcher style="margin-left: 10px; width:165px" id="defaultSwitcher" 
                                     value="#{themeSwitcherBean.theme}">
                        <f:selectItems value="#{themeSwitcherBean.themes}" />
                        <p:ajax listener="#{themeSwitcherBean.saveUserTheme()}" />
                    </p:themeSwitcher>

                    <p:menubar style="float: right; margin-right: 120px;" >
                        <p:submenu label="#{request.userPrincipal.name}" icon="ui-icon-person" >
                            <p:menuitem value="Editar información"
                                        actionListener="#{usuarioTbController.prepareCambiarContra(request.userPrincipal.name)}"
                                        update=":CambiarContraForm"
                                        oncomplete="PF('ContraEditDialog').show()"
                                        icon="ui-icon-contact"
                                        />
                            <p:menuitem value="Cerrar sesión" action="#{sesion.logout()}" icon="ui-icon-extlink"/>
                        </p:submenu>
                    </p:menubar>

                    <p:menubar style="float: right; margin-right: 0px;">

                        <p:submenu label="Notificaciones" icon="ui-icon-info">
                            <p:menuitem value="Mostrar" onclick="PF('bar').show()" icon="ui-icon-arrow-1-n"/>
                            <p:menuitem value="Ocultar" onclick="PF('bar').hide()" icon="ui-icon-arrow-1-s"/>
                        </p:submenu>
                    </p:menubar>
                </h:form>
            </p:layoutUnit>


            <p:layoutUnit position="west" size="210" header="#{bundle.AppName}" style="border: 0" gutter="0" collapsible="true" >
                <h:form id="menuForm">
                    <p:slideMenu backLabel="Regresar" style="width: 95%">
                        <p:menuitem value="#{bundle.Home}" outcome="/paginas/bienvenido.xhtml" icon="ui-icon-home"/>
                        <p:submenu label="Proyectos">
                            <p:menuitem value="Control de proyectos" outcome="/paginas/horario/seleccionproy.xhtml" />
                            <p:menuitem value="Calendarización" outcome="/paginas/horario/List.xhtml" />
                            <p:menuitem value="Proyecto" outcome="/paginas/proyectoTb/List.xhtml" />
                            <p:menuitem value="Proceso Ejemplar" outcome="/paginas/procesoejemplarTb/ProcesoEjemplar.xhtml"/>
                             <p:menuitem value="Notas preliminares" outcome="/paginas/notapreliminarTb/notapreliminar.xhtml"/>
                        </p:submenu>
                        <p:submenu label="Materiales">
                            <p:menuitem value="Materiales" outcome="/paginas/materialTb/List.xhtml" />
                            <p:menuitem value="Pedidos" outcome="/paginas/pedidoTb/List.xhtml" />
                            <p:menuitem value="Control de Pedidos" outcome="/paginas/materialPedidoTb/List.xhtml" />
                            <p:menuitem value="Despacho Materiales" outcome="/paginas/despachoTb/List.xhtml" />
                            <p:menuitem value="Unidades" outcome="/paginas/unidadesTb/List.xhtml" />
                        </p:submenu>
                        <p:submenu label="Ejemplar">
                            <p:menuitem value="Ejemplares" outcome="/paginas/ejemplarTb/List.xhtml" />
                            <p:menuitem value="Donaciones" outcome="/paginas/donacionTb/List.xhtml" />
                            <p:menuitem value="Imagenes" outcome="/paginas/imagenTb/List.xhtml" />
                            <p:menuitem value="Nombre Común" outcome="/paginas/nombrecomunTb/List.xhtml" />
                            <p:menuitem value="AgenteIdentificaEjemplarTb" outcome="/paginas/agenteIdentificaEjemplarTb/List.xhtml" />
                        </p:submenu>
                        <p:submenu label="Localizacion">
                            <p:menuitem value="Unidad política-administrativa" outcome="/paginas/paisTb/List.xhtml" />
                            <p:menuitem value="Localidad de las áreas protegidas" outcome="/paginas/MapaAreasProtegidas/List.xhtml" />  
                            <p:menuitem value="Area Protegida" outcome="/paginas/areaprotegidaTb/List.xhtml" />
                            <p:menuitem value="Localidad" outcome="/paginas/localidadTb/List.xhtml" />   
                        </p:submenu>
                        <p:submenu label="Exhibición">
                            <p:menuitem value="Exhibición" outcome="/paginas/exhibicionTb/List.xhtml" />                                                           
                            <p:menuitem value="EjemplarParticipaExhibicionTb" outcome="/paginas/ejemplarParticipaExhibicionTb/List.xhtml" />                          
                        </p:submenu>
                        <p:submenu label="Infomación Taxonómica">
                            <p:menuitem value="Taxonomía" outcome="/paginas/familiaTb/List.xhtml" />

                        </p:submenu>
                        <p:submenu label="Agentes e Instituciones">
                            <p:menuitem value="Agentes" outcome="/paginas/agenteTb/List.xhtml" />
                            <p:menuitem value="Perfiles" outcome="/paginas/perfilTb/List.xhtml" />
                            <p:menuitem value="Instituciones" outcome="/paginas/institucionTb/List.xhtml" />
                        </p:submenu>
                        <p:submenu label="Seguridad">
                            <p:menuitem value="Usuario" outcome="/paginas/usuarioTb/List.xhtml" />
                            <p:menuitem value="Bitácora" outcome="/paginas/bitacoraTb/List.xhtml" />
                            <p:menuitem value="Crear y restaurar Backup" outcome="/paginas/configuracion/respaldo.xhtml" />
                        </p:submenu>
                    </p:slideMenu>
                </h:form>
            </p:layoutUnit>

            <p:layoutUnit position="south" size="60" style="border: 0" gutter="0">
                <ui:insert name="footer"/>
            </p:layoutUnit>

            <p:layoutUnit position="center" style="border: 0" gutter="0">
                <ui:insert name="body"/>
            </p:layoutUnit>

        </p:layout>
        <ui:include src="/paginas/cambiarcontra.xhtml"/>
    </h:body>

</html>
